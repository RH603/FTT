<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/signUp.css" />
    <link rel="stylesheet" href="../CSS/total.css" />
  </head>
  <body>
    <div class="signup-main">
      <!-- <div class="signup-header">navBar</div> -->
      <div class="signup-header">
        <div class="sign-text">FTT 회원가입</div>
      </div>

      <section class="signup">
        <div class="signup-wrap">
          <div class="sign id">
            <h2>아이디</h2>
            <div class="wrap">
              <input type="text" name="id" placeholder="8자 이상 입력" />
              <button type="button" name="중복확인">중복확인</button>
            </div>
          </div>

          <div class="sign pw">
            <h2>비밀번호</h2>
            <input
              type="password"
              name="password"
              placeholder="8자 이상 입력"
            />
          </div>

          <div class="sign rec">
            <h2>비밀번호 재입력</h2>
            <input type="password" name="passwordCheck" />
          </div>

          <div class="sign name">
            <h2>이름</h2>
            <input type="text" name="name" />
          </div>

          <div class="sign birth">
            <h2>생년월일</h2>
            <input type="text" name="birth" placeholder="  '-' 입력해주세요 " />
          </div>

          <div class="sign gender">
            <div class="gender">
              <input type="button" name="gender" value="남자" />
              <input type="button" name="gender" value="여자" />
            </div>
            <div class="gender">
              <input type="button" name="language" value="내국인" />
              <input type="button" name="language" value="외국인" />
            </div>
          </div>

          <div class="sign phone">
            <h2>휴대전화</h2>
            <select>
              <option>대한민국 +82</option>
              <option>중국 +86</option>
              <option>일본 +81</option>
              <option>미국 +1</option>
            </select>
            <input type="text" name="phone" placeholder="전화번호 입력" />
            <button type="button" name="btn" value="인증번호 받기">
              인증번호 받기
            </button>
          </div>
        </div>
        <button type="button" class="signBtn" name="btn" value="button">
          회원가입
        </button>
      </section>
    </div>
  </body>
  <script src="../JS/signUp.js"></script>
  <script type="module">
    import * as firebase from "../JS/firebase.js";
    const {
      db,
      getDocs,
      collection,
      setDoc,
      addDoc,
      getDatas,
      doc,
      addDatas,
      deleteDatas,
      updateDatas,
      deleteField,
    } = firebase;

    // const gender = document.querySelector("input[name  = gender]");
    // const passwordCheck = document.querySelector("input[name = passwordCheck]").value

    // 데이터추가
    const btn = document.querySelector(".signBtn");
    btn.addEventListener("click", function () {
      const memberInfo = {
        memberId: document.querySelector("input[name = id]").value,
        memberPassword: document.querySelector("input[name = password]").value,
        // memberPasswordCheck: document.querySelector("input[name = passwordCheck]").value,
        memberName: document.querySelector("input[name = name]").value,
        memberBirth: document.querySelector("input[name = birth]").value,
        memberPhoneNumber: document.querySelector("input[name = phone]").value,
        // membergender: document.querySelector("input[name = gender]").value,
        // memberLanguage: document.querySelector("input[name = language]").value,
      };

      console.log(memberInfo.memberPassword);
      if (
        memberInfo.memberPassword ==
        document.querySelector("input[name = passwordCheck]").value
      ) {
        addDatas("FTT", memberInfo).then(function () {
          alert("회원가입이 성공했습니다!");
          location.href = "http://127.0.0.1:5501/index/HTML/login.html";
        });
      } else {
        alert("비밀번호가 다릅니다.");
      }
    });
  </script>
</html>
