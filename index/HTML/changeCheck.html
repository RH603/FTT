<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    .container {
      text-align: center;
      font-size: 40px;
      font-weight: bold;
    }

    fieldset {
      width: 50%;
      margin: 0 auto;
    }

    input {
      width: 20%;
      height: 30px;
      margin-top: 1rem;
    }
    button {
      width: 10%;
      height: 35px;
    }
  </style>
  <body>
    <div class="container">회원 확인</div>
    <fieldset>
      <legend>회원 확인</legend>
      <div>비밀번호를 입력하세요</div>
      <input type="password" name="password" placeholder="비밀번호 입력" />
      <button type="button" class="checkbtn" value="btn">확인</button>
    </fieldset>
  </body>
  <script type="module">
    import * as firebase from "../JS/firebase.js";
    const {
      db,
      getDocs,
      collection,
      setDoc,
      addDoc,
      getDatas,
      doc,
      addDatas,
      deleteDatas,
      updateDatas,
      deleteField,
      getData,
    } = firebase;

    const btn = document.querySelector(".checkbtn");
    const password = document.querySelector("input[name=password]");

    btn.addEventListener("click", async function () {
      const snapshot = await getData("FTT", "sFDeZbIgBTGl9xQz8FUz");
      const { memberPassword } = snapshot.data();
      if (password.value == memberPassword) {
        location.href = "http://127.0.0.1:5501/index/HTML/changeInfo.html";
      } else {
        alert("비밀번호를 다시 입력해주세요");
      }
    });
  </script>
</html>
